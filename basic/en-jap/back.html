<div class=frontbg onclick=main()>
<script>
document.querySelector(".frontbg").click();
</script>

	{{Definition}}

	<div class="hira">
		{{Word Type}}
	</div>
	
</div>



<div class=backbg>

	<div class=backmain>
		<span class=definition>{{Word}}</span>
		<span class="audio wordtype">〔{{Reading}}{{BackSound}}〕</span>
	</div>

	<div class=sentence>
		{{Sentence(s)}}
	</div>

	<div class=others>
			<div class=notes>{{Note(s)}}</div>
	</div>

	<div class=reference>
		<div class=level>Ref: {{Textbook/Level}}</div>
		<div class=level>Chapter: {{Ch#}}</div>
	</div>

</div>

<script>try{try{document.querySelector(".replaybutton").innerHTML="\ud83d\udd0a"}catch{document.querySelector(".replay-button").innerHTML="\ud83d\udd0a"}}catch{}</script>

<!-- word type hidden, but tagged separately for Js access -->
<span class=wordtypeJS style="display: none;">({{Word Type}})</span>






<script>
let styleTypes = {
	noun: {
		mainColor: "#2497E6", //blue
		darkColor: "#016ea6"  //dark blue
	},
	verb: {
		mainColor: "#FA2445",  //red
		darkColor: "#B82E3F"  //dark red
	},
	adjective: {
		mainColor: "#C9C08F",  //yellow
		darkColor: "#ACA57C"  //dark yellow
	}
}

//console.log(styleTypes.noun.mainColor);
function styleCard(type) {
	//console.log(type);
	let style = styleTypes[type];
	let root = document.querySelector(':root');
	root.style.setProperty("--main-color",style.mainColor);
	root.style.setProperty("--dark-color", style.darkColor);
}
function wordType() {
	var typeField = document.querySelector(".wordtypeJS").innerHTML;
	//console.log(typeField);
	var regex = /\(([^)]+)\)/;
	var type = regex.exec(typeField)[1];
	//console.log(type);
	return type;
}

function main() {
	if ( ["noun", "verb", "adjective"].indexOf(wordType()) >= 0 ) {
		styleCard(wordType());
	}
}

function refresh() {
let typespan = document.querySelector(".wordtype");
let type = typespan.innerText;
typespan.innerText = type;
}

window.setInterval(refresh(), 500);
window.addEventListener("onchange", main());
window.addEventListener("onclick", main());

</script>